<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ğŸµ Suno AI í”„ë¡¬í”„íŠ¸ ë§ˆìŠ¤í„° - ì• ë‹ˆí•œtv</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700;800;900&family=Noto+Sans+KR:wght@500;700;800;900&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    :root {
      --gradient-start: #667eea;
      --gradient-end: #764ba2;
      --accent: #f093fb;
    }
    body {
      font-family: 'Noto Sans KR', sans-serif;
      font-weight: 500;
      background: #000;
      min-height: 100vh;
      padding: 60px 20px;
      position: relative;
      overflow-x: hidden;
    }
    body::before {
      content: '';
      position: fixed;
      top: 0; left: 0; width: 100%; height: 100%;
      background:
        radial-gradient(circle at 20% 50%, rgba(255,255,255,0.1) 0%, transparent 50%),
        radial-gradient(circle at 80% 80%, rgba(255,255,255,0.1) 0%, transparent 50%);
      pointer-events: none;
      animation: float 20s ease-in-out infinite;
    }
    @keyframes float { 0%,100% { transform: translateY(0); } 50% { transform: translateY(-20px); } }
    .container { max-width: 1400px; margin: 0 auto; position: relative; z-index: 1; }
    .header { text-align: center; margin-bottom: 50px; }
    h1 { font-family: 'Orbitron', sans-serif; font-size: 4.5em; color: #fff; margin-bottom: 20px; text-transform: uppercase; }
    .subtitle { font-size: 1em; color: #888; font-weight: 400; letter-spacing: 4px; text-transform: uppercase; }
    
    #reset-btn {
      background: rgba(255,255,255,0.15);
      backdrop-filter: blur(10px);
      color: white;
      border: 2px solid rgba(255,255,255,0.3);
      padding: 14px 28px;
      border-radius: 50px;
      font-size: 1em;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      float: right;
      margin-bottom: 30px;
    }
    #reset-btn:hover { background: rgba(255,255,255,0.25); transform: translateY(-2px); }
    
    .api-key-section {
      background: rgba(255,255,255,0.95);
      padding: 30px;
      border-radius: 25px;
      margin-bottom: 30px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.15);
      border: 2px solid var(--accent);
    }
    .api-key-section h3 { color: var(--gradient-start); font-size: 1.4em; margin-bottom: 15px; }
    .api-key-section p { color: #495057; margin-bottom: 15px; line-height: 1.6; }
    .api-key-section a { color: var(--gradient-start); text-decoration: none; font-weight: 600; }
    
    .api-input-group { display: flex; gap: 12px; margin-bottom: 15px; }
    .api-input-group input {
      flex: 1;
      padding: 14px 20px;
      border: 2px solid #e9ecef;
      border-radius: 12px;
      font-size: 1em;
      font-family: 'Courier New', monospace;
    }
    .api-input-group button {
      padding: 14px 28px;
      background: linear-gradient(135deg, var(--gradient-start) 0%, var(--gradient-end) 100%);
      color: white;
      border: none;
      border-radius: 12px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
    }
    .api-status { font-size: 0.9em; padding: 10px 15px; border-radius: 8px; display: none; }
    .api-status.success { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; display: block; }
    .api-status.error { background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; display: block; }
    
    .instruction-box {
      background: #0a0a0a;
      border: 1px solid #1a1a1a;
      padding: 40px;
      border-radius: 20px;
      margin-bottom: 40px;
    }
    .instruction-box h3 { color: #fff; font-size: 1.8em; margin-bottom: 25px; }
    .instruction-box ol { padding-left: 30px; line-height: 2.2; }
    .instruction-box li { margin-bottom: 16px; color: #ccc; font-size: 1.1em; }
    
    .step {
      background: #0a0a0a;
      border: 1px solid #1a1a1a;
      padding: 40px;
      border-radius: 20px;
      margin-bottom: 30px;
      transition: all 0.3s;
    }
    .step:hover { border-color: #2a2a2a; transform: translateY(-2px); }
    .step-title {
      font-size: 1.7em;
      font-weight: 800;
      color: #fff;
      margin-bottom: 25px;
      display: block;
      padding-left: 25px;
      border-left: 4px solid #fff;
    }
    .step-subtitle { font-size: 0.85em; font-weight: 400; color: #666; margin-left: 8px; }
    
    .btn-group { display: flex; flex-wrap: wrap; gap: 16px; }
    button {
      padding: 16px 28px;
      border: 1px solid #2a2a2a;
      border-radius: 12px;
      background: #0a0a0a;
      cursor: pointer;
      transition: all 0.3s;
      font-size: 1.05em;
      font-weight: 600;
      color: #fff;
      min-height: 52px;
    }
    button:hover:not(:disabled) { background: #1a1a1a; border-color: #3a3a3a; transform: translateY(-1px); }
    button.active { background: #fff; color: #000; border-color: #fff; font-weight: 700; }
    button:disabled { opacity: 0.5; cursor: not-allowed; }
    
    input[type="text"], textarea {
      width: 100%;
      margin-top: 20px;
      border-radius: 12px;
      border: 1px solid #2a2a2a;
      padding: 20px 24px;
      font-size: 1.1em;
      background: #0a0a0a;
      color: #fff;
      font-family: 'Noto Sans KR', sans-serif;
      font-weight: 500;
      line-height: 1.8;
    }
    input[type="text"]:focus, textarea:focus { outline: none; border-color: #3a3a3a; background: #0f0f0f; }
    input[type="text"]::placeholder, textarea::placeholder { color: #666; }
    textarea { min-height: 180px; resize: vertical; }
    
    .main-btn {
      width: 100%;
      padding: 28px;
      border: none;
      border-radius: 12px;
      font-size: 1.4em;
      font-weight: 800;
      margin-top: 40px;
      cursor: pointer;
      transition: all 0.3s;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    .main-btn:hover:not(:disabled) { transform: translateY(-2px); }
    .main-btn:disabled { opacity: 0.5; cursor: not-allowed; }
    
    .single-btn {
      background: linear-gradient(135deg, #10b981 0%, #059669 100%);
      color: white;
    }
    .single-btn:hover:not(:disabled) { box-shadow: 0 8px 30px rgba(16,185,129,0.4); }
    
    .full-btn {
      background: linear-gradient(135deg, #6366f1 0%, #4f46e5 100%);
      color: white;
    }
    .full-btn:hover:not(:disabled) { box-shadow: 0 8px 30px rgba(99,102,241,0.4); }
    
    .error-message {
      background: linear-gradient(135deg, #ff6b6b 0%, #ee5a52 100%);
      color: white;
      padding: 20px 25px;
      border-radius: 15px;
      margin-top: 20px;
      display: none;
    }
    .error-message.show { display: block; }
    
    #result { margin-top: 50px; display: none; }
    .result-header {
      background: linear-gradient(135deg, var(--gradient-start) 0%, var(--gradient-end) 100%);
      color: white;
      padding: 30px;
      border-radius: 20px 20px 0 0;
      text-align: center;
    }
    .result-header h2 { font-size: 2em; margin-bottom: 10px; }
    
    .copy-section { display: flex; gap: 15px; margin-bottom: 25px; flex-wrap: wrap; padding: 20px; background: white; }
    .copy-btn {
      background: linear-gradient(135deg, #4b6584 0%, #3d5266 100%);
      color: white;
      border: none;
      padding: 14px 24px;
      border-radius: 50px;
      font-size: 1em;
      cursor: pointer;
      flex: 1;
      min-width: 150px;
      font-weight: 600;
      transition: all 0.3s;
    }
    .copy-btn:hover { transform: translateY(-3px); }
    .copy-btn.copied { background: linear-gradient(135deg, #00d2ff 0%, #3a7bd5 100%); }
    
    .output-box {
      white-space: pre-wrap;
      background: white;
      padding: 30px;
      border-radius: 0 0 20px 20px;
      line-height: 2;
      font-size: 1.05em;
      color: #333;
      max-height: 600px;
      overflow-y: auto;
    }
    
    /* í”„ë¡¬í”„íŠ¸ ë°•ìŠ¤ ìŠ¤íƒ€ì¼ */
    .prompt-box {
      background: #1a1f35;
      border: 2px solid #ff6ac1;
      border-radius: 15px;
      padding: 25px;
      margin: 20px 0;
      box-shadow: 0 0 20px rgba(255,106,193,0.3);
    }
    .prompt-box h3 {
      color: #ff6ac1;
      font-size: 1.3em;
      margin-bottom: 15px;
      text-transform: uppercase;
      letter-spacing: 2px;
    }
    .prompt-box pre {
      background: #0d1117;
      color: #c9d1d9;
      padding: 20px;
      border-radius: 10px;
      font-family: 'Courier New', monospace;
      font-size: 0.95em;
      line-height: 1.6;
      overflow-x: auto;
      white-space: pre-wrap;
      word-wrap: break-word;
    }
    .prompt-copy-btn {
      margin-top: 15px;
      padding: 12px 30px;
      background: #ff6ac1;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 700;
      transition: all 0.3s;
    }
    .prompt-copy-btn:hover { background: #ff4da6; transform: translateY(-2px); }
    
    /* ì–¸ì–´ íƒ­ */
    .language-tabs {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      background: #f0f0f0;
      padding: 20px;
      border-radius: 15px 15px 0 0;
    }
    .lang-tab {
      padding: 12px 20px;
      background: white;
      border: 2px solid #ddd;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s;
      white-space: nowrap;
    }
    .lang-tab:hover { background: #f8f8f8; }
    .lang-tab.active { background: var(--gradient-start); color: white; border-color: var(--gradient-start); }
    
    .language-content {
      background: white;
      padding: 30px;
      border-radius: 0 0 15px 15px;
      display: none;
    }
    .language-content.active { display: block; }
    .lang-section {
      background: #f9f9f9;
      padding: 20px;
      border-radius: 10px;
      margin-bottom: 20px;
      border: 1px solid #e0e0e0;
    }
    .lang-section-title { font-weight: 700; color: var(--gradient-start); margin-bottom: 15px; font-size: 1.2em; }
    .lang-section-content {
      white-space: pre-wrap;
      line-height: 1.8;
      color: #333;
      background: white;
      padding: 15px;
      border-radius: 8px;
      border: 1px solid #ddd;
    }
    .lang-copy-btn {
      margin-top: 10px;
      padding: 10px 20px;
      background: var(--gradient-end);
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s;
    }
    .lang-copy-btn:hover { opacity: 0.9; transform: translateY(-2px); }
    
    /* 10ê³¡ ì¹´ë“œ */
    .songs-container { background: white; padding: 30px; }
    .song-card {
      background: #f5f5f5;
      border: 2px solid #e0e0e0;
      border-radius: 15px;
      padding: 25px;
      margin-bottom: 20px;
      transition: all 0.3s;
    }
    .song-card:hover { transform: translateY(-3px); box-shadow: 0 8px 25px rgba(0,0,0,0.1); }
    .song-number { font-size: 1.2em; font-weight: 800; color: var(--gradient-start); margin-bottom: 15px; }
    .song-section { margin-bottom: 20px; }
    .song-section-title { font-weight: 700; color: #333; margin-bottom: 10px; font-size: 1.1em; }
    .song-section-content {
      background: white;
      padding: 15px;
      border-radius: 8px;
      border: 1px solid #ddd;
      white-space: pre-wrap;
      font-size: 0.95em;
      line-height: 1.6;
      max-height: 300px;
      overflow-y: auto;
    }
    .song-buttons { display: flex; gap: 10px; flex-wrap: wrap; margin-top: 15px; }
    .song-btn {
      flex: 1;
      min-width: 120px;
      padding: 10px 20px;
      background: var(--gradient-start);
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s;
    }
    .song-btn:hover { transform: translateY(-2px); opacity: 0.9; }
    
    .loading { text-align: center; padding: 50px; font-size: 1.2em; color: #666; }
    .loading::after { content: '...'; animation: dots 1.5s infinite; }
    @keyframes dots { 0%,20% { content: '.'; } 40% { content: '..'; } 60%,100% { content: '...'; } }
    
    @media (max-width: 768px) {
      h1 { font-size: 2.5em; }
      .step { padding: 25px; }
    }
  </style>
</head>

<body>
<div class="container">
  <div class="header">
    <h1>ğŸµ Suno AI í”„ë¡¬í”„íŠ¸ ë§ˆìŠ¤í„°</h1>
    <p class="subtitle">âœ¨ ì• ë‹ˆí•œ&ì–´ë¹„ Suno ai ìµìŠ¤í´ë£¨ì‹œë¸Œ âœ¨</p>
  </div>

  <button id="reset-btn">ğŸ”„ ì²˜ìŒë¶€í„° ë‹¤ì‹œ ì„ íƒí•˜ê¸°</button>
  <div style="clear:both"></div>

  <div class="api-key-section">
    <h3>ğŸ”‘ Google AI Studio API í‚¤ ì„¤ì •</h3>
    <p>Google AI Studioì—ì„œ ë°œê¸‰ë°›ì€ API í‚¤ë¥¼ ì…ë ¥í•˜ì„¸ìš”. <a href="https://aistudio.google.com/app/apikey" target="_blank">API í‚¤ ë°œê¸‰ë°›ê¸° â†’</a></p>
    <div class="api-input-group">
      <input type="password" id="api-key-input" placeholder="AIzaSy... í˜•ì‹ì˜ API í‚¤ë¥¼ ì…ë ¥í•˜ì„¸ìš”">
      <button id="save-api-key-btn">ğŸ’¾ ì €ì¥</button>
    </div>
    <p class="api-status" id="api-status"></p>
  </div>

  <div class="instruction-box">
    <h3>ğŸ“Œ ì‚¬ìš© ì•ˆë‚´</h3>
    <ol>
      <li>ğŸ”‘ ìœ„ì— Google AI Studio API í‚¤ë¥¼ ì…ë ¥í•˜ê³  ì €ì¥í•˜ì„¸ìš”</li>
      <li>ğŸ¨ ì•„ë˜ ì˜µì…˜ë“¤ì„ ì„ íƒí•˜ê±°ë‚˜ í…ìŠ¤íŠ¸ë¡œ ì§ì ‘ ì…ë ¥í•˜ì„¸ìš”</li>
      <li>âš¡ <strong>"ë‹¨ì¼ ìŠ¤íƒ€ì¼ í”„ë¡¬í”„íŠ¸ ìƒì„±"</strong>ì€ Suno ìŠ¤íƒ€ì¼ íƒœê·¸ë§Œ ìƒì„±í•©ë‹ˆë‹¤ (ê°€ì‚¬ ì—†ëŠ” ê³¡ìš©)</li>
      <li>ğŸŒ <strong>"í’€ íŒ¨í‚¤ì§€ ìƒì„±"</strong>ì€ í”„ë¡¬í”„íŠ¸ + 10ê³¡ ê°€ì‚¬ + 19ê°œêµ­ì–´ ì—…ë¡œë“œ ì„¸íŠ¸ë¥¼ ìƒì„±í•©ë‹ˆë‹¤</li>
    </ol>
  </div>

  <div class="step">
    <span class="step-title">ğŸ¸ 1. ì¥ë¥´ ì„ íƒ <span class="step-subtitle">(ìŒì•…ì˜ ìƒ‰ê¹”)</span></span>
    <div class="btn-group" id="genre-btns"></div>
    <input type="text" id="custom-genre" placeholder="ì›í•˜ëŠ” ì¥ë¥´ë¥¼ ì§ì ‘ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: Nu Jazz, Bossa Nova)">
  </div>

  <div class="step">
    <span class="step-title">âœ¨ 2. ë¶„ìœ„ê¸° ë° ê°ì„± ì„ íƒ <span class="step-subtitle">(ê°ì •ì˜ ê¹Šì´)</span></span>
    <div class="btn-group" id="mood-btns"></div>
    <input type="text" id="custom-mood" placeholder="ì›í•˜ëŠ” ë¶„ìœ„ê¸°ë¥¼ ì§ì ‘ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: ëª½í™˜ì ì¸, ì—­ë™ì ì¸)">
  </div>

  <div class="step">
    <span class="step-title">ğŸ¤ 3. ë³´ì»¬ ë° ì°½ë²• ì„ íƒ <span class="step-subtitle">(ëª©ì†Œë¦¬ì˜ ì§ˆê°)</span></span>
    <div class="btn-group" id="vocal-btns"></div>
    <input type="text" id="custom-vocal" placeholder="ì›í•˜ëŠ” ë³´ì»¬ ìŠ¤íƒ€ì¼ì„ ì§ì ‘ ì…ë ¥í•˜ì„¸ìš”">
  </div>

  <div class="step">
    <span class="step-title">ğŸ¬ 4. ì‚¬ìš© ìš©ë„ ë° ìƒí™© <span class="step-subtitle">(ê³µê°„ì˜ ìš¸ë¦¼)</span></span>
    <div class="btn-group" id="usage-btns"></div>
    <input type="text" id="custom-usage" placeholder="ì‚¬ìš© ìš©ë„ë¥¼ ì§ì ‘ ì…ë ¥í•˜ì„¸ìš”">
  </div>

  <div class="step">
    <span class="step-title">ğŸ¹ 5. ì£¼ìš” ì•…ê¸° ì„¤ì • <span class="step-subtitle">(ì†Œë¦¬ì˜ ë„êµ¬)</span></span>
    <div class="btn-group" id="instrument-btns"></div>
    <input type="text" id="custom-instrument" placeholder="ì›í•˜ëŠ” ì•…ê¸°ë¥¼ ì§ì ‘ ì…ë ¥í•˜ì„¸ìš”">
  </div>

  <div class="step">
    <span class="step-title">âš¡ 6. ì†ë„ (BPM) ì„¤ì • <span class="step-subtitle">(ë¦¬ë“¬ì˜ ë§¥ë°•)</span></span>
    <div class="btn-group" id="bpm-btns"></div>
    <input type="text" id="custom-bpm" placeholder="ì›í•˜ëŠ” BPMì„ ì§ì ‘ ì…ë ¥í•˜ì„¸ìš”">
  </div>

  <div class="step">
    <span class="step-title">ğŸ‘¥ 7. íƒ€ê²Ÿ ì—°ë ¹ëŒ€ ì„ íƒ <span class="step-subtitle">(ì²­ì¤‘ì˜ ê³µê°)</span></span>
    <div class="btn-group" id="age-group-btns"></div>
    <input type="text" id="custom-age" placeholder="íƒ€ê²Ÿ ì—°ë ¹ëŒ€ë¥¼ ì§ì ‘ ì…ë ¥í•˜ì„¸ìš”">
  </div>

  <div class="step">
    <span class="step-title">ğŸŒ 8. ê°€ì‚¬ ì–¸ì–´ ì„¤ì • <span class="step-subtitle">(ê¸€ë¡œë²Œ ì†Œí†µ)</span></span>
    <div class="btn-group" id="lang-btns"></div>
    <input type="text" id="custom-lang" placeholder="ì›í•˜ëŠ” ì–¸ì–´ë¥¼ ì§ì ‘ ì…ë ¥í•˜ì„¸ìš”">
  </div>

  <div class="step">
    <span class="step-title">ğŸ“ 9. ê°€ì‚¬ ì£¼ì œ ë° ìš”ì²­ <span class="step-subtitle">(ì°½ì‘ì˜ í•µì‹¬)</span></span>
    <div class="btn-group" id="theme-btns"></div>
    <textarea id="custom-theme" placeholder="ê°€ì‚¬ ì£¼ì œë¥¼ ììœ ë¡­ê²Œ ì ì–´ì£¼ì„¸ìš”. (í’€ íŒ¨í‚¤ì§€ ìƒì„± ì‹œ í•„ìˆ˜)"></textarea>
  </div>

  <div class="error-message" id="error-message"></div>

  <button class="main-btn single-btn" id="single-btn">âš¡ ë‹¨ì¼ ìŠ¤íƒ€ì¼ í”„ë¡¬í”„íŠ¸ ìƒì„±</button>
  <button class="main-btn full-btn" id="full-btn">ğŸš€ í’€ íŒ¨í‚¤ì§€ ìƒì„± (ê°€ì‚¬ 10ê³¡ í¬í•¨)</button>

  <div id="result">
    <div class="result-header">
      <h2 id="result-title">ğŸ¼ AI ìƒì„± ê²°ê³¼</h2>
      <p id="result-subtitle">Suno AIì— ë°”ë¡œ ì‚¬ìš©í•˜ì„¸ìš”!</p>
    </div>
    <div class="copy-section">
      <button class="copy-btn" id="copy-all">ğŸ“‹ ì „ì²´ ë³µì‚¬</button>
    </div>
    <div class="output-box" id="output-content"></div>
  </div>
</div>

<script>
  const data = {
    genres: [
      "ğŸ¹ ì‹œí‹°íŒ(City Pop)", "ğŸ§ ë¡œíŒŒì´(Lo-fi)", "ğŸŒŠ ì¹ ì›¨ì´ë¸Œ", "ğŸ¸ K-ë¡", "ğŸ‘¥ í•©ì°½/ì¤‘ì°½",
      "ğŸ§˜ ëª…ìƒ/ì¹˜ìœ ", "âœï¸ CCM/ì°¬ì–‘", "ğŸ’« K-pop", "ğŸ’” ë°œë¼ë“œ", "ğŸº ì¬ì¦ˆ", "ğŸ¤ íŒ", "ğŸµ í™í•©",
      "ğŸŒŒ ë‰´ì—ì´ì§€", "ğŸŒ«ï¸ ì•°ë¹„ì–¸íŠ¸", "ğŸ¶ íŠ¸ë¡œíŠ¸", "ğŸ· ë¸”ë£¨ìŠ¤", "ğŸ¤  ì»¨íŠ¸ë¦¬", "ğŸª• í¬í¬", "ğŸï¸ ë ˆê²Œ",
      "âœ¨ ë””ìŠ¤ì½”", "ğŸ¸ ë¡", "ğŸ”Š ì „ììŒì•…", "ğŸ¼ R&B", "ğŸ¹ ì†Œìš¸", "ğŸ›ï¸ ì‹ ìŠ¤íŒ", "â˜ï¸ ë“œë¦¼ íŒ",
      "ğŸ¨ ì¸ë””íŒ", "ğŸ™ ê°€ìŠ¤í ", "ğŸº ìŠ¤ìœ™", "ğŸ’ƒ ë¼í‹´", "ğŸµ ì´ì§€ë¦¬ìŠ¤ë‹", "ğŸ‘¶ ìì¥ê°€", "ğŸ§¸ ë™ìš”", "ğŸ„ ìºë¡¤"
    ],
    moods: [
      "ğŸŒ™ ì”ì”í•œ (ê³ ìš”í•œ)", "ğŸ˜¢ ê¹Šì€ ìŠ¬í””", "ğŸŒƒ ìš°ìš¸í•œ ìƒˆë²½", "ğŸ™ ê²½ê±´í•˜ê³  ì€í˜œë¡œìš´",
      "ğŸ¤— ë”°ìŠ¤í•œ ìœ„ë¡œ", "â˜®ï¸ ìˆœìˆ˜í•œ í‰í™”", "â˜ï¸ í¬ê·¼í•œ êµ¬ë¦„", "âš¡ ì—ë„ˆì§€ í­ë°œ",
      "ğŸ’• ë¡œë§¨í‹± ê°ì„±", "ğŸŒ… ì¼ëª°ê°™ì€", "ğŸŒŒ ìš°ì£¼ ê°™ì€", "ğŸ–¤ ë‹¤í¬í•˜ê³  ê°•ë ¬",
      "ğŸƒ ì‹œì›í•œ ë°”ëŒ", "ğŸš— ê°•ë ¥í•œ ë“œë¼ì´ë¸Œ", "ğŸ’ª ë„ì „ì ì¸", "ğŸ”ï¸ ì›…ì¥í•œ ëŒ€ì„œì‚¬ì‹œ", "ğŸ¥° ê·€ì—¬ìš´"
    ],
    vocals: [
      "ğŸ‘¶ ì–´ë¦°ì´ í•©ì°½ë‹¨", "ğŸ‘¥ ì–´ë¥¸ í•©ì°½ë‹¨", "ğŸ‘© ë§‘ê³  ê¹¨ë—í•œ ì—¬ì„± ë³´ì»¬",
      "âœ¨ ì—í…Œë¦¬ì–¼ ì—¬ì„± ë³´ì»¬", "ğŸ’• ë¡œë§¨í‹± ì—¬ì„± ë³´ì»¬", "ğŸ™ï¸ í—ˆìŠ¤í‚¤ ë‚¨ì„± ë³´ì»¬",
      "ğŸ‘¦ ì†Œë…„ ë³´ì»¬", "ğŸ‘§ ë§‘ì€ ì†Œë…€ ë³´ì»¬", "ğŸ”¥ ì—´ì •ì ì¸ ë‚¨ì„± ë³´ì»¬",
      "ğŸµ ë‚¨ë…€ ì½”ëŸ¬ìŠ¤ í•©ì°½", "ğŸ¤– ë³´ì½”ë” íš¨ê³¼", "ğŸ¤« ì†ì‚­ì´ëŠ” ì—¬ì„±",
      "ğŸ¤ ë© (ë‚¨ì„±)", "ğŸ¤ ë© (ì—¬ì„±)", "ğŸ­ ì˜¤í˜ë¼í‹± (ë‚¨ì„±)", "ğŸ­ ì˜¤í˜ë¼í‹± (ì—¬ì„±)",
      "ğŸŒ¬ï¸ ê³µê¸°ë°˜ ì‚¬ìš´ë“œë°˜", "ğŸ¼ ê°€ì‚¬ì—†ëŠ” ì—°ì£¼ê³¡"
    ],
    usages: [
      "ğŸ“¹ ìœ íŠœë¸Œ ë¸Œì´ë¡œê·¸ BGM", "ğŸ® ê²Œì„ ë°©ì†¡ ë°°ê²½ìŒ", "ğŸ“š ê³µë¶€/ì§‘ì¤‘ë ¥ í–¥ìƒ",
      "ğŸ’ª ìš´ë™/í”¼íŠ¸ë‹ˆìŠ¤", "ğŸ˜´ ìˆ™ë©´/ëª…ìƒ", "â˜• ì¹´í˜ ë¶„ìœ„ê¸°", "ğŸ“± ê°ì„± ì‡¼ì¸ /í‹±í†¡", "â›ª êµíšŒ ì˜ˆë°°/ë¬µìƒ"
    ],
    instruments: [
      "ğŸ¹ ê·¸ëœë“œ í”¼ì•„ë…¸", "ğŸ¸ ì–´ì¿ ìŠ¤í‹± ê¸°íƒ€", "âš¡ ì¼ë ‰ ê¸°íƒ€", "ğŸµ ì˜¤ë¥´ê³¨", "ğŸ· ìƒ‰ì†Œí°",
      "ğŸ» ë°”ì´ì˜¬ë¦°", "ğŸ» ì²¼ë¡œ", "ğŸ”” ì‹±ì‰ë³¼", "ğŸ›ï¸ ì‹ ë””ì‚¬ì´ì €"
    ],
    bpms: [
      "ğŸ˜´ ì´ˆì €ì† (40-50 BPM)", "ğŸŒ™ ë§¤ìš° ëŠë¦¼ (50-70 BPM)", "ğŸ§˜ ëŠë¦¼ (70-90 BPM)",
      "ğŸš¶ ë³´í†µ (90-110 BPM)", "ğŸ˜Š ì•½ê°„ ë¹ ë¦„ (110-130 BPM)", "ğŸƒ ë¹ ë¦„ (130-150 BPM)",
      "ğŸ’ª ë§¤ìš° ë¹ ë¦„ (150-170 BPM)", "âš¡ ì´ˆê³ ì† (170+ BPM)"
    ],
    langs: ["ğŸ‡°ğŸ‡· í•œêµ­ì–´", "ğŸ‡ºğŸ‡¸ ì˜ì–´", "ğŸŒ í•œêµ­ì–´+ì˜ì–´ ì„ì–´ì„œ"],
    ageGroups: [
      "ğŸ‘¶ ìœ ì•„ (0-7ì„¸)", "ğŸ’ 10ëŒ€ (ì²­ì†Œë…„)", "ğŸ’¼ 20ëŒ€ (ì²­ì¶˜)",
      "ğŸ‘” 30-40ëŒ€ (ì§ì¥ì¸/ë¶€ëª¨)", "ğŸ© 50-60ëŒ€ (ì‹œë‹ˆì–´)", "ğŸŒ ì „ ì—°ë ¹ëŒ€"
    ],
    themes: [
      "ğŸ’• ì²«ì‚¬ë‘", "ğŸ‘¶ ìì¥ê°€", "ğŸŒ… ìƒˆë²½ ë¬µìƒ", "ğŸ’” ì´ë³„ì˜ ì•„í””", "ğŸ¤ ì¬íšŒ", "ğŸ˜Š ì§ì‚¬ë‘",
      "ğŸ’ª ìê¸° ì‚¬ë‘", "ğŸ”¥ ìš©ê¸°", "âœ¨ ê°“ìƒ", "ğŸ‘¤ ì£¼ì²´ì  ë‚˜", "ğŸ¯ ì‹¤íŒ¨ì™€ ê·¹ë³µ",
      "ğŸ’ ìì‹ ê° íšŒë³µ", "ğŸ  í–¥ìˆ˜", "ğŸŒ§ï¸ ë¹„ ì˜¤ëŠ” ë‚ ", "âœˆï¸ ì—¬í–‰", "ğŸ™ ê°ì‚¬ì™€ ê¸°ë„",
      "ğŸ¼ ê°€ì‚¬ì—†ëŠ”(ì—°ì£¼ê³¡)", "ğŸ„ í¬ë¦¬ìŠ¤ë§ˆìŠ¤"
    ]
  };

  const selections = {
    genre: null, mood: null, vocal: null, usage: null, instrument: null,
    bpm: null, ageGroup: null, lang: null, theme: null
  };

  let generatedPrompt = "";
  let apiKey = localStorage.getItem('gemini_api_key') || '';

  const PREFERRED_MODELS = ["gemini-1.5-flash", "gemini-1.5-pro", "gemini-2.0-flash-exp"];

  if (apiKey) {
    document.getElementById('api-key-input').value = apiKey;
    document.getElementById('api-status').className = 'api-status success';
    document.getElementById('api-status').textContent = 'âœ… ì €ì¥ëœ API í‚¤ê°€ ìˆìŠµë‹ˆë‹¤.';
  }

  function showStatus(type, html) {
    const statusDiv = document.getElementById('api-status');
    statusDiv.className = 'api-status ' + type;
    statusDiv.style.display = 'block';
    statusDiv.innerHTML = html;
  }

  async function listModels(key) {
    const url = `https://generativelanguage.googleapis.com/v1beta/models?key=${encodeURIComponent(key)}`;
    const res = await fetch(url);
    if (!res.ok) throw new Error(`ListModels ì‹¤íŒ¨ (${res.status})`);
    const data = await res.json();
    return (data.models || []).map(m => m.name?.replace("models/", "")).filter(Boolean);
  }

  function pickBestModel(available) {
    for (const m of PREFERRED_MODELS) {
      if (available.includes(m)) return m;
    }
    return available.find(x => x.startsWith("gemini-")) || null;
  }

  document.getElementById('save-api-key-btn').addEventListener('click', async function () {
    const key = document.getElementById('api-key-input').value.trim();
    if (!key) return showStatus('error', 'âŒ API í‚¤ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
    if (!key.startsWith('AIzaSy')) return showStatus('error', 'âŒ ì˜¬ë°”ë¥¸ API í‚¤ í˜•ì‹ì´ ì•„ë‹™ë‹ˆë‹¤.');

    showStatus('', 'ğŸ”„ API í‚¤ë¥¼ í…ŒìŠ¤íŠ¸í•˜ëŠ” ì¤‘...');

    try {
      const availableModels = await listModels(key);
      const chosenModel = pickBestModel(availableModels);
      if (!chosenModel) return showStatus('error', 'âŒ ì‚¬ìš© ê°€ëŠ¥í•œ ëª¨ë¸ì„ ì°¾ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.');

      const testUrl = `https://generativelanguage.googleapis.com/v1beta/models/${encodeURIComponent(chosenModel)}:generateContent?key=${encodeURIComponent(key)}`;
      const testResponse = await fetch(testUrl, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ contents: [{ parts: [{ text: "Hello" }] }] })
      });

      if (testResponse.ok) {
        apiKey = key;
        localStorage.setItem('gemini_api_key', key);
        localStorage.setItem('gemini_model', chosenModel);
        showStatus('success', `âœ… API í‚¤ í…ŒìŠ¤íŠ¸ ì„±ê³µ!<br/>ì„ íƒëœ ëª¨ë¸: <strong>${chosenModel}</strong>`);
      } else {
        showStatus('error', `âŒ API í‚¤ í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ (${testResponse.status})`);
      }
    } catch (err) {
      showStatus('error', `âŒ í…ŒìŠ¤íŠ¸ ì¤‘ ì˜¤ë¥˜: ${String(err).slice(0, 200)}`);
    }
  });

  async function callGeminiAPI(promptText) {
    if (!apiKey) throw new Error('ë¨¼ì € API í‚¤ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!');

    let model = localStorage.getItem('gemini_model') || '';
    if (!model) {
      const available = await listModels(apiKey);
      model = pickBestModel(available);
      if (!model) throw new Error('ì‚¬ìš© ê°€ëŠ¥í•œ ëª¨ë¸ì„ ì°¾ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.');
      localStorage.setItem('gemini_model', model);
    }

    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/${encodeURIComponent(model)}:generateContent?key=${encodeURIComponent(apiKey)}`;
    const response = await fetch(apiUrl, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        contents: [{ parts: [{ text: promptText }] }],
        generationConfig: { temperature: 0.9, topK: 40, topP: 0.95, maxOutputTokens: 8192 }
      })
    });

    if (!response.ok) {
      if (response.status === 429) throw new Error('âŒ í• ë‹¹ëŸ‰ ì´ˆê³¼ (429)\n1ë¶„ ëŒ€ê¸° í›„ ì¬ì‹œë„í•˜ì„¸ìš”.');
      throw new Error(`âŒ API í˜¸ì¶œ ì‹¤íŒ¨ (${response.status})`);
    }

    const data = await response.json();
    return data.candidates?.[0]?.content?.parts?.[0]?.text || '';
  }

  function initButtonGroup(containerId, itemList, selectionKey) {
    const container = document.getElementById(containerId);
    itemList.forEach(item => {
      const button = document.createElement('button');
      button.innerText = item;
      button.onclick = () => {
        Array.from(container.children).forEach(btn => btn.classList.remove('active'));
        button.classList.add('active');
        selections[selectionKey] = item;
        hideError();
      };
      container.appendChild(button);
    });
  }

  function getSelectionValue(key, customId) {
    return document.getElementById(customId).value.trim() || selections[key] || "ììœ ë¡­ê²Œ";
  }

  function showError(msg) {
    const errorDiv = document.getElementById('error-message');
    errorDiv.textContent = msg;
    errorDiv.classList.add('show');
    errorDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
  }

  function hideError() {
    document.getElementById('error-message').classList.remove('show');
  }

  async function copyToClipboard(text, buttonElement) {
    try {
      await navigator.clipboard.writeText(text);
      const originalText = buttonElement.textContent;
      buttonElement.classList.add('copied');
      buttonElement.textContent = 'âœ“ ë³µì‚¬ ì™„ë£Œ!';
      setTimeout(() => {
        buttonElement.classList.remove('copied');
        buttonElement.textContent = originalText;
      }, 2000);
    } catch (err) {
      alert('ë³µì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
    }
  }

  function resetAll() {
    if (!confirm('ëª¨ë“  ì„ íƒì„ ì´ˆê¸°í™”í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) return;
    Object.keys(selections).forEach(key => selections[key] = null);
    document.querySelectorAll('.btn-group button').forEach(btn => btn.classList.remove('active'));
    ['custom-genre', 'custom-mood', 'custom-vocal', 'custom-usage', 'custom-instrument', 
     'custom-bpm', 'custom-age', 'custom-lang', 'custom-theme'].forEach(id => {
      document.getElementById(id).value = '';
    });
    document.getElementById('result').style.display = 'none';
    hideError();
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }

  // âš¡ ë‹¨ì¼ í”„ë¡¬í”„íŠ¸ ìƒì„±
  async function handleSingleGenerate() {
    if (!apiKey) {
      showError('âŒ ë¨¼ì € API í‚¤ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!');
      return;
    }

    const genre = getSelectionValue('genre', 'custom-genre');
    const mood = getSelectionValue('mood', 'custom-mood');
    const vocal = getSelectionValue('vocal', 'custom-vocal');
    const instrument = getSelectionValue('instrument', 'custom-instrument');
    const bpm = getSelectionValue('bpm', 'custom-bpm');

    hideError();
    const btn = document.getElementById('single-btn');
    const originalText = btn.textContent;
    btn.disabled = true;
    btn.textContent = 'âš¡ ìŠ¤íƒ€ì¼ í”„ë¡¬í”„íŠ¸ ìƒì„± ì¤‘...';

    const resultDiv = document.getElementById('result');
    const outputContent = document.getElementById('output-content');
    document.getElementById('result-title').textContent = 'âš¡ Suno ìŠ¤íƒ€ì¼ í”„ë¡¬í”„íŠ¸ ìƒì„± ì¤‘...';
    outputContent.innerHTML = '<div class="loading">ì™„ë²½í•œ í”„ë¡¬í”„íŠ¸ë¥¼ ë§Œë“¤ê³  ìˆìŠµë‹ˆë‹¤</div>';
    resultDiv.style.display = 'block';

    try {
      const promptText = `Suno AIì˜ ìŠ¤íƒ€ì¼ íƒœê·¸ë¥¼ ì „ë¬¸ ìŒì•… ìš©ì–´ë¡œ ì˜ì–´ë¡œ ì‘ì„±í•´ì£¼ì„¸ìš”.

[ì„ íƒ ì˜µì…˜]
- ì¥ë¥´: ${genre}
- ë¶„ìœ„ê¸°: ${mood}
- ë³´ì»¬: ${vocal}
- ì•…ê¸°: ${instrument}
- BPM: ${bpm}

ìœ„ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ Suno AIê°€ ì´í•´í•  ìˆ˜ ìˆëŠ” ì˜ë¬¸ ìŠ¤íƒ€ì¼ íƒœê·¸ë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”.

í˜•ì‹ ì˜ˆì‹œ:
Lo-fi ChillHop, Acoustic Guitar, Emotional Male Vocals, Passionate, Intense Soul, Melancholic, Rainy Ambience, Downtempo, Urban Blues, Raw Emotion, Vinyl Crackle

ì¤‘ìš”: ì˜¤ì§ ì˜ë¬¸ ìŠ¤íƒ€ì¼ íƒœê·¸ë§Œ ì‘ì„±í•˜ê³ , ë‹¤ë¥¸ ì„¤ëª…ì€ ì¶”ê°€í•˜ì§€ ë§ˆì„¸ìš”.`;

      const result = await callGeminiAPI(promptText);
      generatedPrompt = result;
      
      document.getElementById('result-title').textContent = 'âš¡ Suno ìŠ¤íƒ€ì¼ í”„ë¡¬í”„íŠ¸ ì™„ì„±!';
      document.getElementById('result-subtitle').textContent = 'Master Suno Style Tag';
      
      outputContent.innerHTML = `
        <div class="prompt-box">
          <h3>ğŸµ Master Suno Style Tag</h3>
          <pre>${result}</pre>
          <button class="prompt-copy-btn" onclick="copyPromptBox(this)">ğŸ“‹ í”„ë¡¬í”„íŠ¸ ë³µì‚¬</button>
        </div>
      `;

      setTimeout(() => resultDiv.scrollIntoView({ behavior: 'smooth', block: 'start' }), 100);
    } catch (error) {
      document.getElementById('result-title').textContent = 'âŒ ì˜¤ë¥˜ ë°œìƒ';
      outputContent.textContent = error.message;
      showError(error.message);
    } finally {
      btn.disabled = false;
      btn.textContent = originalText;
    }
  }

  // ğŸš€ í’€ íŒ¨í‚¤ì§€ ìƒì„±
  async function handleFullGenerate() {
    if (!apiKey) {
      showError('âŒ ë¨¼ì € API í‚¤ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!');
      return;
    }

    const theme = document.getElementById('custom-theme').value.trim() || selections.theme;
    if (!theme) {
      showError('âŒ í’€ íŒ¨í‚¤ì§€ ìƒì„±ì„ ìœ„í•´ì„œëŠ” ê°€ì‚¬ ì£¼ì œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!');
      return;
    }

    const genre = getSelectionValue('genre', 'custom-genre');
    const mood = getSelectionValue('mood', 'custom-mood');
    const vocal = getSelectionValue('vocal', 'custom-vocal');
    const usage = getSelectionValue('usage', 'custom-usage');
    const instrument = getSelectionValue('instrument', 'custom-instrument');
    const bpm = getSelectionValue('bpm', 'custom-bpm');
    const ageGroup = getSelectionValue('ageGroup', 'custom-age');
    const lang = getSelectionValue('lang', 'custom-lang');

    hideError();
    const btn = document.getElementById('full-btn');
    const originalText = btn.textContent;
    btn.disabled = true;
    btn.textContent = 'ğŸš€ í’€ íŒ¨í‚¤ì§€ ìƒì„± ì¤‘...';

    const resultDiv = document.getElementById('result');
    const outputContent = document.getElementById('output-content');
    document.getElementById('result-title').textContent = 'ğŸš€ í’€ íŒ¨í‚¤ì§€ ìƒì„± ì¤‘...';
    outputContent.innerHTML = '<div class="loading">í”„ë¡¬í”„íŠ¸ + 10ê³¡ ê°€ì‚¬ + 19ê°œ ì–¸ì–´ íŒ¨í‚¤ì§€ë¥¼ ë§Œë“¤ê³  ìˆìŠµë‹ˆë‹¤</div>';
    resultDiv.style.display = 'block';

    try {
      const promptText = `[ë¯¸ì…˜] Suno AI í’€ íŒ¨í‚¤ì§€ë¥¼ ìƒì„±í•´ì£¼ì„¸ìš”.

[ì„ íƒ ì˜µì…˜]
- ì¥ë¥´: ${genre}
- ë¶„ìœ„ê¸°: ${mood}
- ë³´ì»¬: ${vocal}
- ìš©ë„: ${usage}
- ì•…ê¸°: ${instrument}
- BPM: ${bpm}
- íƒ€ê²Ÿ ì—°ë ¹ëŒ€: ${ageGroup}
- ê°€ì‚¬ ì–¸ì–´: ${lang}
- ì£¼ì œ: ${theme}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“¦ PART 1: Suno ìŠ¤íƒ€ì¼ í”„ë¡¬í”„íŠ¸
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ìœ„ ì˜µì…˜ì„ ë°”íƒ•ìœ¼ë¡œ Suno AI ì˜ë¬¸ ìŠ¤íƒ€ì¼ íƒœê·¸ë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”.

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“¦ PART 2: 10ê³¡ ê°€ì‚¬ ì„¸íŠ¸
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

**ğŸµ ê³¡ 1:**
ì œëª©: [íƒ€ê²Ÿ ì—°ë ¹ëŒ€ì— ë§ëŠ” ì œëª©]
ê°€ì‚¬: [4ë¶„ ë¶„ëŸ‰ í’€ë²„ì „ - Verse, Chorus, Bridge í¬í•¨]

(ë™ì¼í•œ í˜•ì‹ìœ¼ë¡œ 10ê³¡ê¹Œì§€)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“¦ PART 3: 19ê°œ êµ­ì–´ ìœ íŠœë¸Œ ì—…ë¡œë“œ ì„¸íŠ¸
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

### ğŸ‡°ğŸ‡· í•œêµ­ì–´
ğŸ“Œ ì˜ìƒ ì œëª©: [SEO ìµœì í™” 40ì]
ğŸ“ ì„¤ëª…: [2-3ë¬¸ì¥]
â±ï¸ íƒ€ì„ìŠ¤íƒ¬í”„:
00:00 ê³¡1 ì œëª©
04:15 ê³¡2 ì œëª©
(10ê³¡ê¹Œì§€)
#ï¸âƒ£ í•´ì‹œíƒœê·¸: [15-20ê°œ]

(19ê°œ ì–¸ì–´: ğŸ‡°ğŸ‡·í•œêµ­ì–´ ğŸ‡ºğŸ‡¸English ğŸ‡¯ğŸ‡µæ—¥æœ¬èª ğŸ‡ªğŸ‡¸EspaÃ±ol ğŸ‡§ğŸ‡·PortuguÃªs ğŸ‡®ğŸ‡³à¤¹à¤¿à¤¨à¥à¤¦à¥€ ğŸ‡¨ğŸ‡³ä¸­æ–‡ç®€ä½“ ğŸ‡¹ğŸ‡¼ä¸­æ–‡ç¹é«” ğŸ‡«ğŸ‡·FranÃ§ais ğŸ‡©ğŸ‡ªDeutsch ğŸ‡®ğŸ‡¹Italiano ğŸ‡·ğŸ‡ºĞ ÑƒÑÑĞºĞ¸Ğ¹ ğŸ‡¹ğŸ‡­à¹„à¸—à¸¢ ğŸ‡¸ğŸ‡¦Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ğŸ‡¹ğŸ‡·TÃ¼rkÃ§e ğŸ‡»ğŸ‡³Tiáº¿ng Viá»‡t ğŸ‡®ğŸ‡©Bahasa Indonesia ğŸ‡µğŸ‡±Polski ğŸ‡³ğŸ‡±Nederlands ğŸ‡¸ğŸ‡ªSvenska)`;

      const result = await callGeminiAPI(promptText);
      generatedPrompt = result;
      
      // íŒŒì‹±
      const songs = parse10Songs(result);
      const languages = parseLanguages(result);
      const stylePrompt = extractStylePrompt(result);
      
      document.getElementById('result-title').textContent = 'ğŸš€ í’€ íŒ¨í‚¤ì§€ ì™„ì„±!';
      document.getElementById('result-subtitle').textContent = `í”„ë¡¬í”„íŠ¸ + ${songs.length}ê³¡ + ${languages.length}ê°œ ì–¸ì–´`;
      
      // UI ìƒì„±
      outputContent.innerHTML = '';
      
      // 1. ìŠ¤íƒ€ì¼ í”„ë¡¬í”„íŠ¸
      if (stylePrompt) {
        const promptSection = document.createElement('div');
        promptSection.innerHTML = `
          <div class="prompt-box">
            <h3>ğŸµ Master Suno Style Tag</h3>
            <pre>${stylePrompt}</pre>
            <button class="prompt-copy-btn" onclick="copyPromptBox(this)">ğŸ“‹ í”„ë¡¬í”„íŠ¸ ë³µì‚¬</button>
          </div>
        `;
        outputContent.appendChild(promptSection);
      }
      
      // 2. 10ê³¡ ì¹´ë“œ
      if (songs.length > 0) {
        const songsTitle = document.createElement('h2');
        songsTitle.style.cssText = 'background:#6366f1; color:white; padding:20px; margin:20px 0 0 0; font-size:1.8em; border-radius:15px 15px 0 0;';
        songsTitle.textContent = 'ğŸµ 10ê³¡ ê°€ì‚¬ ì„¸íŠ¸';
        outputContent.appendChild(songsTitle);
        outputContent.appendChild(display10Songs(songs));
      }
      
      // 3. 19ê°œ ì–¸ì–´
      if (languages.length > 0) {
        const langsTitle = document.createElement('h2');
        langsTitle.style.cssText = 'background:#10b981; color:white; padding:20px; margin:20px 0 0 0; font-size:1.8em; border-radius:15px 15px 0 0;';
        langsTitle.textContent = `ğŸŒ ${languages.length}ê°œ ì–¸ì–´ ìœ íŠœë¸Œ ì—…ë¡œë“œ ì„¸íŠ¸`;
        outputContent.appendChild(langsTitle);
        outputContent.appendChild(displayLanguages(languages));
      }

      setTimeout(() => resultDiv.scrollIntoView({ behavior: 'smooth', block: 'start' }), 100);
    } catch (error) {
      document.getElementById('result-title').textContent = 'âŒ ì˜¤ë¥˜ ë°œìƒ';
      outputContent.textContent = error.message;
      showError(error.message);
    } finally {
      btn.disabled = false;
      btn.textContent = originalText;
    }
  }

  // íŒŒì‹± í•¨ìˆ˜ë“¤
  function extractStylePrompt(text) {
    const match = text.match(/PART 1[\s\S]*?íƒœê·¸[:\s]*([\s\S]+?)(?=â”â”â”|PART 2|$)/i);
    return match ? match[1].trim() : null;
  }

  function parse10Songs(text) {
    const songs = [];
    const songRegex = /\*\*ğŸµ ê³¡ (\d+):\*\*\s*ì œëª©:\s*(.+?)\s*ê°€ì‚¬:\s*([\s\S]+?)(?=\*\*ğŸµ ê³¡ \d+:|â”â”â”|PART 3|$)/gi;
    let match;
    while ((match = songRegex.exec(text)) !== null) {
      songs.push({
        number: match[1],
        title: match[2].trim(),
        lyrics: match[3].trim()
      });
    }
    return songs;
  }

  function parseLanguages(text) {
    const languages = [];
    const langMap = {
      'ğŸ‡°ğŸ‡·': 'í•œêµ­ì–´', 'ğŸ‡ºğŸ‡¸': 'English', 'ğŸ‡¯ğŸ‡µ': 'æ—¥æœ¬èª', 'ğŸ‡ªğŸ‡¸': 'EspaÃ±ol',
      'ğŸ‡§ğŸ‡·': 'PortuguÃªs', 'ğŸ‡®ğŸ‡³': 'à¤¹à¤¿à¤¨à¥à¤¦à¥€', 'ğŸ‡¨ğŸ‡³': 'ä¸­æ–‡ç®€ä½“', 'ğŸ‡¹ğŸ‡¼': 'ä¸­æ–‡ç¹é«”',
      'ğŸ‡«ğŸ‡·': 'FranÃ§ais', 'ğŸ‡©ğŸ‡ª': 'Deutsch', 'ğŸ‡®ğŸ‡¹': 'Italiano', 'ğŸ‡·ğŸ‡º': 'Ğ ÑƒÑÑĞºĞ¸Ğ¹',
      'ğŸ‡¹ğŸ‡­': 'à¹„à¸—à¸¢', 'ğŸ‡¸ğŸ‡¦': 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©', 'ğŸ‡¹ğŸ‡·': 'TÃ¼rkÃ§e', 'ğŸ‡»ğŸ‡³': 'Tiáº¿ng Viá»‡t',
      'ğŸ‡®ğŸ‡©': 'Bahasa Indonesia', 'ğŸ‡µğŸ‡±': 'Polski', 'ğŸ‡³ğŸ‡±': 'Nederlands', 'ğŸ‡¸ğŸ‡ª': 'Svenska'
    };

    for (const [flag, name] of Object.entries(langMap)) {
      const regex = new RegExp(`###\\s*${flag}\\s*${name}([\\s\\S]+?)(?=###|$)`, 'i');
      const match = text.match(regex);
      if (match) {
        const content = match[1].trim();
        const titleMatch = content.match(/ğŸ“Œ\s*ì˜ìƒ ì œëª©:\s*(.+?)(?=\n|$)/);
        const descMatch = content.match(/ğŸ“\s*(?:ì„¤ëª…|Description):\s*([\s\S]+?)(?=â±ï¸|#ï¸âƒ£|$)/);
        const timeMatch = content.match(/â±ï¸\s*íƒ€ì„ìŠ¤íƒ¬í”„:?\s*([\s\S]+?)(?=#ï¸âƒ£|$)/);
        const hashMatch = content.match(/#ï¸âƒ£\s*í•´ì‹œíƒœê·¸:?\s*(.+?)$/);

        languages.push({
          flag, name,
          title: titleMatch ? titleMatch[1].trim() : '',
          description: descMatch ? descMatch[1].trim() : '',
          timestamps: timeMatch ? timeMatch[1].trim() : '',
          hashtags: hashMatch ? hashMatch[1].trim() : '',
          fullContent: content
        });
      }
    }
    return languages;
  }

  function display10Songs(songs) {
    const container = document.createElement('div');
    container.className = 'songs-container';
    
    songs.forEach(song => {
      const card = document.createElement('div');
      card.className = 'song-card';
      card.innerHTML = `
        <div class="song-number">ğŸµ ê³¡ ${song.number}</div>
        <div class="song-section">
          <div class="song-section-title">ğŸ“Œ ì œëª©</div>
          <div class="song-section-content">${song.title}</div>
        </div>
        <div class="song-section">
          <div class="song-section-title">ğŸ“ ê°€ì‚¬</div>
          <div class="song-section-content">${song.lyrics}</div>
        </div>
        <div class="song-buttons">
          <button class="song-btn" data-text="${song.title}">ğŸ“‹ ì œëª© ë³µì‚¬</button>
          <button class="song-btn" data-text="${song.lyrics}">ğŸ“ ê°€ì‚¬ ë³µì‚¬</button>
          <button class="song-btn" data-text="ì œëª©: ${song.title}\n\nê°€ì‚¬:\n${song.lyrics}">ğŸ“¦ ì „ì²´ ë³µì‚¬</button>
        </div>
      `;
      container.appendChild(card);
    });
    
    container.querySelectorAll('.song-btn').forEach(btn => {
      btn.addEventListener('click', function() {
        copyToClipboard(this.dataset.text, this);
      });
    });
    
    return container;
  }

  function displayLanguages(languages) {
    const container = document.createElement('div');
    
    const tabsContainer = document.createElement('div');
    tabsContainer.className = 'language-tabs';
    
    const contentsContainer = document.createElement('div');
    
    languages.forEach((lang, index) => {
      const tab = document.createElement('div');
      tab.className = 'lang-tab' + (index === 0 ? ' active' : '');
      tab.textContent = `${lang.flag} ${lang.name}`;
      tab.onclick = () => {
        document.querySelectorAll('.lang-tab').forEach(t => t.classList.remove('active'));
        document.querySelectorAll('.language-content').forEach(c => c.classList.remove('active'));
        tab.classList.add('active');
        content.classList.add('active');
      };
      tabsContainer.appendChild(tab);
      
      const content = document.createElement('div');
      content.className = 'language-content' + (index === 0 ? ' active' : '');
      content.innerHTML = `
        <div class="lang-section">
          <div class="lang-section-title">ğŸ“Œ ì˜ìƒ ì œëª©</div>
          <div class="lang-section-content">${lang.title}</div>
          <button class="lang-copy-btn" data-text="${lang.title}">ë³µì‚¬</button>
        </div>
        <div class="lang-section">
          <div class="lang-section-title">ğŸ“ ì˜ìƒ ì„¤ëª…ë€</div>
          <div class="lang-section-content">${lang.description}</div>
          <button class="lang-copy-btn" data-text="${lang.description}">ë³µì‚¬</button>
        </div>
        <div class="lang-section">
          <div class="lang-section-title">â±ï¸ íƒ€ì„ìŠ¤íƒ¬í”„</div>
          <div class="lang-section-content">${lang.timestamps}</div>
          <button class="lang-copy-btn" data-text="${lang.timestamps}">ë³µì‚¬</button>
        </div>
        <div class="lang-section">
          <div class="lang-section-title">#ï¸âƒ£ í•´ì‹œíƒœê·¸</div>
          <div class="lang-section-content">${lang.hashtags}</div>
          <button class="lang-copy-btn" data-text="${lang.hashtags}">ë³µì‚¬</button>
        </div>
        <div class="lang-section">
          <button class="lang-copy-btn" style="width:100%; font-size:1.1em; padding:15px;" data-text="${lang.fullContent}">ğŸ“¦ ì´ ì–¸ì–´ ì „ì²´ ë³µì‚¬</button>
        </div>
      `;
      contentsContainer.appendChild(content);
    });
    
    container.appendChild(tabsContainer);
    container.appendChild(contentsContainer);
    
    container.querySelectorAll('.lang-copy-btn').forEach(btn => {
      btn.addEventListener('click', function() {
        copyToClipboard(this.dataset.text, this);
      });
    });
    
    return container;
  }

  window.copyPromptBox = function(button) {
    const pre = button.previousElementSibling;
    copyToClipboard(pre.textContent, button);
  };

  // ì´ˆê¸°í™”
  initButtonGroup('genre-btns', data.genres, 'genre');
  initButtonGroup('mood-btns', data.moods, 'mood');
  initButtonGroup('vocal-btns', data.vocals, 'vocal');
  initButtonGroup('usage-btns', data.usages, 'usage');
  initButtonGroup('instrument-btns', data.instruments, 'instrument');
  initButtonGroup('bpm-btns', data.bpms, 'bpm');
  initButtonGroup('age-group-btns', data.ageGroups, 'ageGroup');
  initButtonGroup('lang-btns', data.langs, 'lang');
  initButtonGroup('theme-btns', data.themes, 'theme');

  document.getElementById('single-btn').addEventListener('click', handleSingleGenerate);
  document.getElementById('full-btn').addEventListener('click', handleFullGenerate);
  document.getElementById('reset-btn').addEventListener('click', resetAll);
  document.getElementById('copy-all').addEventListener('click', function() {
    copyToClipboard(generatedPrompt, this);
  });
  
  ['custom-genre', 'custom-mood', 'custom-vocal', 'custom-usage', 'custom-instrument', 
   'custom-bpm', 'custom-age', 'custom-lang', 'custom-theme'].forEach(id => {
    document.getElementById(id).addEventListener('input', hideError);
  });
</script>
</body>
</html>
