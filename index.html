<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸµ Suno AI í”„ë¡¬í”„íŠ¸ ë§ˆìŠ¤í„° - ì• ë‹ˆí•œtv</title>
    <link href="https://fonts.googleapis.com/css2?family=Gowun+Batang:wght@400;700&family=Noto+Sans+KR:wght@300;400;700;900&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root { --gradient-start: #667eea; --gradient-end: #764ba2; --accent: #f093fb; --dark: #1a1a2e; --youtube: #FF0000; }
        body { font-family: 'Noto Sans KR', sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; padding: 40px 20px; }
        .container { max-width: 1400px; margin: 0 auto; position: relative; z-index: 1; }
        .header { text-align: center; margin-bottom: 50px; color: white; }
        h1 { font-family: 'Gowun Batang', serif; font-size: 3.5em; text-shadow: 0 4px 20px rgba(0,0,0,0.3); }

        /* ì„¹ì…˜ ê³µí†µ ìŠ¤íƒ€ì¼ */
        .api-key-section, .step, .instruction-box { background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(20px); padding: 35px; border-radius: 25px; margin-bottom: 25px; box-shadow: 0 10px 40px rgba(0,0,0,0.15); }
        .step-title { font-size: 1.4em; font-weight: 700; color: var(--dark); margin-bottom: 20px; display: block; border-left: 5px solid var(--accent); padding-left: 20px; }
        .btn-group { display: flex; flex-wrap: wrap; gap: 12px; }
        button { padding: 12px 24px; border: 2px solid #e9ecef; border-radius: 50px; background: #f8f9fa; cursor: pointer; transition: 0.3s; font-weight: 500; }
        button.active { background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end)); color: white; border: none; transform: translateY(-3px); box-shadow: 0 8px 25px rgba(102,126,234,0.4); }
        
        /* ë©”ì¸ ë²„íŠ¼ */
        .main-btn { width: 100%; padding: 25px; background: linear-gradient(135deg, #FF0000, #cc0000); color: white; border: none; border-radius: 20px; font-size: 1.5em; font-weight: 700; cursor: pointer; margin-top: 15px; box-shadow: 0 10px 30px rgba(255,0,0,0.3); }

        /* ê²°ê³¼ UI */
        #result { margin-top: 50px; display: none; }
        .package-section { background: #fff; border-radius: 25px; padding: 40px; margin-bottom: 40px; border: 2px solid var(--youtube); }
        .copy-box { background: #f8f9fa; padding: 20px; border-radius: 15px; position: relative; margin-bottom: 15px; border: 1px solid #dee2e6; }
        .copy-btn-sm { position: absolute; top: 15px; right: 15px; background: var(--dark); color: white; border: none; padding: 6px 15px; border-radius: 8px; font-size: 0.85em; cursor: pointer; }
        .song-card { background: white; border-radius: 25px; padding: 35px; margin-bottom: 30px; border-top: 8px solid var(--accent); box-shadow: 0 10px 40px rgba(0,0,0,0.1); }
        .style-tag-box { background: #f1f3f5; padding: 12px 20px; border-radius: 12px; font-family: monospace; color: #555; margin-bottom: 25px; }
        pre { white-space: pre-wrap; line-height: 1.9; font-size: 1.1em; }
        input[type="text"], textarea { width: 100%; padding: 18px; border-radius: 15px; border: 2px solid #e9ecef; margin-top: 15px; font-family: inherit; font-size: 1em; }
    </style>
</head>
<body>
<div class="container">
    <div class="header">
        <h1>ğŸµ Suno AI í”„ë¡¬í”„íŠ¸ ë§ˆìŠ¤í„°</h1>
        <p>âœ¨ ì• ë‹ˆí•œ ìµìŠ¤í´ë£¨ì‹œë¸Œ : 108ë§Œ ìœ íŠœë²„ì˜ ë…¸í•˜ìš° âœ¨</p>
    </div>

    <div class="api-key-section">
        <h3>ğŸ”‘ Google API í‚¤ ì„¤ì •</h3>
        <div style="display:flex; gap:12px; margin-top:20px;">
            <input type="password" id="api-key-input" placeholder="AIzaSy... í˜•ì‹ì˜ í‚¤ ì…ë ¥" style="flex:1;">
            <button id="save-api-key-btn" style="background:var(--gradient-start); color:white;">ğŸ’¾ ì €ì¥</button>
        </div>
    </div>

    <div id="options-area">
        <div class="step"><span class="step-title">ğŸ¸ 1. ì¥ë¥´ ì„ íƒ</span><div class="btn-group" id="genre-btns"></div></div>
        <div class="step"><span class="step-title">âœ¨ 2. ë¶„ìœ„ê¸° ì„ íƒ</span><div class="btn-group" id="mood-btns"></div></div>
        <div class="step"><span class="step-title">ğŸ¤ 3. ë³´ì»¬ ì„ íƒ</span><div class="btn-group" id="vocal-btns"></div></div>
        <div class="step"><span class="step-title">ğŸ¬ 4. ì‚¬ìš© ìš©ë„ ë° ìƒí™©</span><div class="btn-group" id="usage-btns"></div><input type="text" id="custom-usage" placeholder="ì˜ˆ: ìš”ë¦¬ ë¸Œì´ë¡œê·¸, ëª…ìƒìš© ë“± ì§ì ‘ ì…ë ¥"></div>
        <div class="step"><span class="step-title">ğŸ¹ 5. ì£¼ìš” ì•…ê¸° ì„¤ì •</span><div class="btn-group" id="instrument-btns"></div><input type="text" id="custom-instrument" placeholder="ì˜ˆ: ì‹±ì‰ë³¼, ê°€ì•¼ê¸ˆ ë“± ì§ì ‘ ì…ë ¥"></div>
        <div class="step"><span class="step-title">âš¡ 6. ì†ë„ (BPM) ì„¤ì •</span><div class="btn-group" id="bpm-btns"></div></div>
        <div class="step"><span class="step-title">ğŸ‘¥ 7. íƒ€ê²Ÿ ì—°ë ¹ëŒ€ ì„ íƒ</span><div class="btn-group" id="ageGroup-btns"></div></div>
        <div class="step"><span class="step-title">ğŸŒ 8. ê°€ì‚¬ ì–¸ì–´ ì„¤ì •</span><div class="btn-group" id="lang-btns"></div></div>
        <div class="step"><span class="step-title">ğŸ“ 9. ê°€ì‚¬ ì£¼ì œ ë° ìš”ì²­</span><div class="btn-group" id="theme-btns"></div><textarea id="custom-theme" placeholder="ê°€ì‚¬ ì£¼ì œë¥¼ ìƒì„¸íˆ ì ì–´ì£¼ì„¸ìš” (í•„ìˆ˜)"></textarea></div>
    </div>

    <button class="main-btn" id="generate-btn">ğŸŒ ê¸€ë¡œë²Œ ìœ íŠœë¸Œ íŒ¨í‚¤ì§€ ìƒì„± (10ê³¡ + 6ê°œêµ­ì–´)</button>

    <div id="result">
        <div class="package-section">
            <h2 style="text-align:center; margin-bottom:30px;">ğŸŒ ê¸€ë¡œë²Œ ìœ íŠœë¸Œ ì—…ë¡œë“œ íŒ¨í‚¤ì§€</h2>
            <div id="package-display"></div>
        </div>
        <h2 style="color:white; margin-bottom:20px;">ğŸµ 10 Song Variations</h2>
        <div id="song-cards-area"></div>
    </div>
</div>

<script>
    const data = {
        genres: ["ğŸ¹ ì‹œí‹°íŒ", "ğŸ§ ë¡œíŒŒì´", "ğŸŒŠ ì¹ ì›¨ì´ë¸Œ", "ğŸ¸ K-ë¡", "ğŸ‘¥ í•©ì°½", "ğŸ§˜ ëª…ìƒ", "ğŸ’« K-pop", "ğŸ’” ë°œë¼ë“œ", "ğŸº ì¬ì¦ˆ", "ğŸ¤ íŒ", "ğŸµ í™í•©", "ğŸŒŒ ë‰´ì—ì´ì§€", "ğŸŒ«ï¸ ì•°ë¹„ì–¸íŠ¸", "ğŸ¶ íŠ¸ë¡œíŠ¸", "ğŸ· ë¸”ë£¨ìŠ¤", "ğŸ¤  ì»¨íŠ¸ë¦¬", "ğŸª• í¬í¬", "ğŸï¸ ë ˆê²Œ", "âœ¨ ë””ìŠ¤ì½”", "ğŸ¸ ë¡", "ğŸ”Š ì „ììŒì•…", "ğŸ¼ R&B", "ğŸ¹ ì†Œìš¸", "ğŸ›ï¸ ì‹ ìŠ¤íŒ", "â˜ï¸ ë“œë¦¼ íŒ", "ğŸ¨ ì¸ë””íŒ", "ğŸ™ ê°€ìŠ¤í ", "ğŸº ìŠ¤ìœ™", "ğŸ’ƒ ë¼í‹´", "ğŸµ ì´ì§€ë¦¬ìŠ¤ë‹", "ğŸ‘¶ ìì¥ê°€", "ğŸ§¸ ë™ìš”", "ğŸ„ ìºë¡¤"],
        moods: ["ğŸŒ™ ì”ì”í•œ", "ğŸ˜¢ ê¹Šì€ ìŠ¬í””", "ğŸŒƒ ìš°ìš¸í•œ ìƒˆë²½", "ğŸ™ ê²½ê±´í•œ", "ğŸ¤— ë”°ìŠ¤í•œ ìœ„ë¡œ", "â˜®ï¸ í‰í™”ë¡œìš´", "â˜ï¸ í¬ê·¼í•œ", "âš¡ ì—ë„ˆì§€ í­ë°œ", "ğŸ’• ë¡œë§¨í‹±", "ğŸŒ… ì¼ëª°ê°™ì€", "ğŸŒŒ ìš°ì£¼ ê°™ì€", "ğŸ–¤ ë‹¤í¬í•œ", "ğŸƒ ì‹œì›í•œ", "ğŸš— ë“œë¼ì´ë¸Œ", "ğŸ’ª ë„ì „ì ì¸", "ğŸ”ï¸ ì›…ì¥í•œ", "ğŸ¥° ê·€ì—¬ìš´"],
        vocals: ["ğŸ‘¶ ì–´ë¦°ì´í•©ì°½", "ğŸ‘¥ ì–´ë¥¸í•©ì°½", "ğŸ‘© ì—¬ì„±(ë§‘ìŒ)", "âœ¨ ì—¬ì„±(ì—í…Œë¦¬ì–¼)", "ğŸ’• ì—¬ì„±(ë¡œë§¨í‹±)", "ğŸ™ï¸ ë‚¨ì„±(í—ˆìŠ¤í‚¤)", "ğŸ‘¦ ì†Œë…„", "ğŸ‘§ ì†Œë…€", "ğŸ”¥ ë‚¨ì„±(ì—´ì •)", "ğŸµ ë‚¨ë…€ì½”ëŸ¬ìŠ¤", "ğŸ¤– ë³´ì½”ë”", "ğŸ¤« ì†ì‚­ì´ëŠ”", "ğŸ¤ ë©(ë‚¨)", "ğŸ¤ ë©(ì—¬)", "ğŸ­ ì˜¤í˜ë¼(ë‚¨)", "ğŸ­ ì˜¤í˜ë¼(ì—¬)", "ğŸŒ¬ï¸ ê³µê¸°ë°˜ì†Œë¦¬ë°˜", "ğŸ¼ ì—°ì£¼ê³¡"],
        usages: ["ğŸ“¹ ìœ íŠœë¸Œ ë¸Œì´ë¡œê·¸", "ğŸ® ê²Œì„ ë°©ì†¡", "ğŸ“š ê³µë¶€/ì§‘ì¤‘", "ğŸ’ª ìš´ë™/í”¼íŠ¸ë‹ˆìŠ¤", "ğŸ˜´ ìˆ™ë©´/ëª…ìƒ", "â˜• ì¹´í˜ ë¶„ìœ„ê¸°", "ğŸ“± ì‡¼ì¸ /í‹±í†¡", "â›ª ì˜ˆë°°/ë¬µìƒ"],
        instruments: ["ğŸ¹ ê·¸ëœë“œ í”¼ì•„ë…¸", "ğŸ¸ ì–´ì¿ ìŠ¤í‹± ê¸°íƒ€", "âš¡ ì¼ë ‰ ê¸°íƒ€", "ğŸµ ì˜¤ë¥´ê³¨", "ğŸ· ìƒ‰ì†Œí°", "ğŸ» ë°”ì´ì˜¬ë¦°", "ğŸ» ì²¼ë¡œ", "ğŸ”” ì‹±ì‰ë³¼", "ğŸ›ï¸ ì‹ ë””ì‚¬ì´ì €"],
        bpms: ["ğŸ˜´ ì´ˆì €ì†(40-50)", "ğŸŒ™ ë§¤ìš°ëŠë¦¼(50-70)", "ğŸ§˜ ëŠë¦¼(70-90)", "ğŸš¶ ë³´í†µ(90-110)", "ğŸ˜Š ì•½ê°„ë¹ ë¦„(110-130)", "ğŸƒ ë¹ ë¦„(130-150)", "ğŸ’ª ë§¤ìš°ë¹ ë¦„(150-170)", "âš¡ ì´ˆê³ ì†(170+)"],
        ageGroups: ["ğŸ‘¶ ìœ ì•„ (0-7ì„¸)", "ğŸ’ 10ëŒ€", "ğŸ’¼ 20ëŒ€", "ğŸ‘” 30-40ëŒ€", "ğŸ© 50-60ëŒ€", "ğŸŒ ì „ ì—°ë ¹ëŒ€"],
        langs: ["ğŸ‡°ğŸ‡· í•œêµ­ì–´", "ğŸ‡ºğŸ‡¸ ì˜ì–´", "ğŸŒ í•œ+ì˜ ì„ì–´ì„œ"],
        themes: ["ğŸ’• ì²«ì‚¬ë‘", "ğŸ‘¶ ìì¥ê°€", "ğŸŒ… ìƒˆë²½ ë¬µìƒ", "ğŸ’” ì´ë³„", "ğŸ¤ ì¬íšŒ", "ğŸ˜Š ì§ì‚¬ë‘", "ğŸ’ª ìê¸° ì‚¬ë‘", "ğŸ”¥ ìš©ê¸°", "âœ¨ ê°“ìƒ", "ğŸ‘¤ ì£¼ì²´ì  ë‚˜", "ğŸ¯ ì‹¤íŒ¨ì™€ ê·¹ë³µ", "ğŸ’ ìì‹ ê°", "ğŸ  í–¥ìˆ˜", "ğŸŒ§ï¸ ë¹„ì˜¤ëŠ” ë‚ ", "âœˆï¸ ì—¬í–‰", "ğŸ™ ê°ì‚¬", "ğŸ¼ ì—°ì£¼ê³¡", "ğŸ„ í¬ë¦¬ìŠ¤ë§ˆìŠ¤"]
    };

    const selections = { genre: null, mood: null, vocal: null, usage: null, instrument: null, bpm: null, ageGroup: null, lang: null, theme: null };
    let apiKey = localStorage.getItem('gemini_api_key') || '';

    function init() {
        if(apiKey) document.getElementById('api-key-input').value = apiKey;
        Object.keys(selections).forEach(key => {
            const container = document.getElementById(key + '-btns');
            if(!container) return;
            data[key + 's'].forEach(item => {
                const btn = document.createElement('button');
                btn.innerText = item;
                btn.onclick = () => {
                    Array.from(container.children).forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    selections[key] = item;
                };
                container.appendChild(btn);
            });
        });
    }

    async function copy(text, label) {
        await navigator.clipboard.writeText(text);
        alert(`âœ“ ${label} ë³µì‚¬ ì™„ë£Œ!`);
    }

    function renderResults(rawText) {
        const resultDiv = document.getElementById('result');
        const cardArea = document.getElementById('song-cards-area');
        const packageArea = document.getElementById('package-display');
        resultDiv.style.display = 'block';
        cardArea.innerHTML = '';
        
        const songs = rawText.split(/ğŸµ ê³¡ \d+:/g).filter(s => s.trim().length > 100);
        songs.forEach((song, i) => {
            const lines = song.trim().split('\n');
            const title = lines[0].replace('ì œëª©:', '').trim();
            const style = lines[1].replace('ìŠ¤íƒ€ì¼ íƒœê·¸:', '').trim();
            const lyrics = lines.slice(2).join('\n').trim();

            const card = document.createElement('div');
            card.className = 'song-card';
            card.innerHTML = `
                <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:15px;">
                    <h3>#${i+1} ${title}</h3>
                    <div>
                        <button style="margin-right:5px;" onclick="copy('${title.replace(/'/g,"\\'")}','ì œëª©')">ì œëª© ë³µì‚¬</button>
                        <button onclick="copy('${lyrics.replace(/\n/g,'\\n').replace(/'/g,"\\'")}','ê°€ì‚¬')">ê°€ì‚¬ ë³µì‚¬</button>
                    </div>
                </div>
                <div class="style-tag-box">${style}</div>
                <pre>${lyrics}</pre>
            `;
            cardArea.appendChild(card);
        });

        const pkg = rawText.split('## PART 2:')[1] || "ë°ì´í„° ë¶„ì„ ì¤‘...";
        packageArea.innerHTML = `<pre style="background:white; padding:25px; border-radius:15px;">${pkg.trim()}</pre>`;
        window.scrollTo({ top: resultDiv.offsetTop - 50, behavior: 'smooth' });
    }

    document.getElementById('generate-btn').onclick = async () => {
        if(!apiKey) return alert('API í‚¤ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!');
        const finalTheme = document.getElementById('custom-theme').value || selections.theme;
        if(!finalTheme) return alert('ì£¼ì œë¥¼ ì„ íƒí•˜ê±°ë‚˜ ì…ë ¥í•´ì£¼ì„¸ìš”!');

        const btn = document.getElementById('generate-btn');
        btn.disabled = true;
        btn.innerText = 'â³ 10ê³¡ ê¸€ë¡œë²Œ íŒ¨í‚¤ì§€ ìƒì„± ì¤‘...';

        try {
            const prompt = `Suno AIìš© 10ê³¡ íŒ¨í‚¤ì§€ì™€ ìœ íŠœë¸Œ ê¸€ë¡œë²Œ ì„¸íŠ¸ë¥¼ ìƒì„±í•˜ë¼. 
            ì¡°ê±´: ì¥ë¥´(${selections.genre}), ë¶„ìœ„ê¸°(${selections.mood}), ë³´ì»¬(${selections.vocal}), ìš©ë„(${selections.usage}), ì•…ê¸°(${selections.instrument}), BPM(${selections.bpm}), ì—°ë ¹ëŒ€(${selections.ageGroup}), ì£¼ì œ(${finalTheme})
            ## PART 1: 10ê³¡ (ğŸµ ê³¡ 1: ì œëª©: / ìŠ¤íƒ€ì¼ íƒœê·¸: / ê°€ì‚¬: í˜•ì‹)
            ## PART 2: ìœ íŠœë¸Œ íŒ¨í‚¤ì§€ (6ê°œêµ­ì–´)`;

            const res = await fetch(`https://generativelanguage.googleapis.com/v1/models/gemini-1.5-flash-latest:generateContent?key=${apiKey}`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ contents: [{ parts: [{ text: prompt }] }] })
            });

            const resultData = await res.json();
            if(!res.ok) throw new Error(resultData.error.message);
            renderResults(resultData.candidates[0].content.parts[0].text);
        } catch(e) {
            alert('ì—ëŸ¬: ' + e.message);
        } finally {
            btn.disabled = false;
            btn.innerText = 'ğŸŒ ê¸€ë¡œë²Œ ìœ íŠœë¸Œ íŒ¨í‚¤ì§€ ìƒì„± (10ê³¡ + 6ê°œêµ­ì–´)';
        }
    };

    document.getElementById('save-api-key-btn').onclick = () => {
        apiKey = document.getElementById('api-key-input').value.trim();
        localStorage.setItem('gemini_api_key', apiKey);
        alert('âœ… ì €ì¥ ì™„ë£Œ!');
    };

    init();
</script>
</body>
</html>
