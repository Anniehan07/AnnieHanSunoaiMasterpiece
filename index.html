<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸµ Suno AI í”„ë¡¬í”„íŠ¸ ë§ˆìŠ¤í„° - ì• ë‹ˆí•œtv</title>
    <link href="https://fonts.googleapis.com/css2?family=Gowun+Batang:wght@400;700&family=Noto+Sans+KR:wght@300;400;700;900&display=swap" rel="stylesheet">
    <style>
        /* [1. ë””ìì¸ í…Œë§ˆ: ë³´ë¼ìƒ‰ ê·¸ë¼ë°ì´ì…˜ ë³µêµ¬] */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root { --gradient-start: #667eea; --gradient-end: #764ba2; --accent: #f093fb; --dark: #1a1a2e; --youtube: #FF0000; }
        body { font-family: 'Noto Sans KR', sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; padding: 40px 20px; color: #333; }
        .container { max-width: 1400px; margin: 0 auto; position: relative; z-index: 1; }
        .header { text-align: center; margin-bottom: 50px; color: white; }
        h1 { font-family: 'Gowun Batang', serif; font-size: 3.5em; text-shadow: 0 4px 20px rgba(0,0,0,0.3); }

        /* [2. ì˜µì…˜ ì„¹ì…˜ ìŠ¤íƒ€ì¼: ìŠ¤í¬ë¦°ìƒ· ë””ìì¸ ì™„ë²½ ì¬í˜„] */
        .api-key-section, .step { background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(20px); padding: 35px; border-radius: 25px; margin-bottom: 25px; box-shadow: 0 10px 40px rgba(0,0,0,0.15); }
        .step-title { font-size: 1.4em; font-weight: 700; color: var(--dark); margin-bottom: 20px; display: block; border-left: 5px solid var(--accent); padding-left: 20px; }
        .btn-group { display: flex; flex-wrap: wrap; gap: 12px; }
        button { padding: 12px 24px; border: 2px solid #e9ecef; border-radius: 50px; background: #f8f9fa; cursor: pointer; transition: 0.3s; font-weight: 500; }
        button.active { background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end)); color: white; border: none; transform: translateY(-3px); box-shadow: 0 8px 25px rgba(102,126,234,0.4); }
        .main-btn { width: 100%; padding: 25px; background: linear-gradient(135deg, #FF0000, #cc0000); color: white; border: none; border-radius: 20px; font-size: 1.5em; font-weight: 700; cursor: pointer; margin-top: 15px; box-shadow: 0 10px 30px rgba(255,0,0,0.3); }
        input, textarea { width: 100%; padding: 18px; border-radius: 15px; border: 2px solid #e9ecef; margin-top: 15px; font-size: 1em; }

        /* [3. ê²°ê³¼ UI: ìœ íŠœë¸Œ ìƒë‹¨ + 10ê³¡ ì¹´ë“œ í•˜ë‹¨] */
        #result { margin-top: 50px; display: none; }
        .package-section { background: #fff; border-radius: 25px; padding: 40px; margin-bottom: 40px; border: 2px solid var(--youtube); }
        .song-card { background: white; border-radius: 25px; padding: 35px; margin-bottom: 30px; border-top: 8px solid var(--accent); box-shadow: 0 10px 40px rgba(0,0,0,0.1); position: relative; }
        pre { white-space: pre-wrap; line-height: 1.9; font-size: 1.1em; color: #333; }
        .copy-btn-sm { background: var(--dark); color: white; border: none; padding: 8px 15px; border-radius: 8px; font-size: 0.85em; cursor: pointer; margin-left: 5px; }
    </style>
</head>
<body>
<div class="container">
    <div class="header">
        <h1>ğŸµ Suno AI í”„ë¡¬í”„íŠ¸ ë§ˆìŠ¤í„°</h1>
        <p>âœ¨ ì• ë‹ˆí•œ ìµìŠ¤í´ë£¨ì‹œë¸Œ : 108ë§Œ ìœ íŠœë²„ì˜ ë…¸í•˜ìš° âœ¨</p>
    </div>

    <div class="api-key-section">
        <h3>ğŸ”‘ Google API í‚¤ ì„¤ì •</h3>
        <div style="display:flex; gap:12px; margin-top:20px;">
            <input type="password" id="api-key-input" placeholder="AIzaSy... í˜•ì‹ì˜ í‚¤ ì…ë ¥" style="margin-top:0;">
            <button id="save-api-key-btn" style="background:var(--gradient-start); color:white;">ğŸ’¾ ì €ì¥</button>
        </div>
    </div>

    <div id="options-area">
        <div class="step"><span class="step-title">ğŸ¸ 1. ì¥ë¥´ ì„ íƒ</span><div class="btn-group" id="genre-btns"></div></div>
        <div class="step"><span class="step-title">âœ¨ 2. ë¶„ìœ„ê¸° ì„ íƒ</span><div class="btn-group" id="mood-btns"></div></div>
        <div class="step"><span class="step-title">ğŸ¤ 3. ë³´ì»¬ ì„ íƒ</span><div class="btn-group" id="vocal-btns"></div></div>
        <div class="step"><span class="step-title">ğŸ¬ 4. ì‚¬ìš© ìš©ë„ ë° ìƒí™©</span><div class="btn-group" id="usage-btns"></div><input type="text" id="custom-usage" placeholder="ì˜ˆ: ìš”ë¦¬ ë¸Œì´ë¡œê·¸ ë“± ì§ì ‘ ì…ë ¥"></div>
        <div class="step"><span class="step-title">ğŸ¹ 5. ì£¼ìš” ì•…ê¸° ì„¤ì •</span><div class="btn-group" id="instrument-btns"></div><input type="text" id="custom-instrument" placeholder="ì˜ˆ: ì‹±ì‰ë³¼ ë“± ì§ì ‘ ì…ë ¥"></div>
        <div class="step"><span class="step-title">âš¡ 6. ì†ë„ (BPM) ì„¤ì •</span><div class="btn-group" id="bpm-btns"></div></div>
        <div class="step"><span class="step-title">ğŸ‘¥ 7. íƒ€ê²Ÿ ì—°ë ¹ëŒ€ ì„ íƒ</span><div class="btn-group" id="ageGroup-btns"></div></div>
        <div class="step"><span class="step-title">ğŸŒ 8. ê°€ì‚¬ ì–¸ì–´ ì„¤ì •</span><div class="btn-group" id="lang-btns"></div></div>
        <div class="step"><span class="step-title">ğŸ“ 9. ê°€ì‚¬ ì£¼ì œ ë° ìš”ì²­</span><div class="btn-group" id="theme-btns"></div><textarea id="custom-theme" placeholder="ê°€ì‚¬ ì£¼ì œë¥¼ ìƒì„¸íˆ ì ì–´ì£¼ì„¸ìš” (í•„ìˆ˜)"></textarea></div>
    </div>

    <button class="main-btn" id="generate-btn">ğŸŒ ê¸€ë¡œë²Œ ìœ íŠœë¸Œ íŒ¨í‚¤ì§€ ìƒì„± (10ê³¡ + 6ê°œêµ­ì–´)</button>

    <div id="result">
        <div class="package-section">
            <h2 style="text-align:center; margin-bottom:30px;">ğŸŒ ê¸€ë¡œë²Œ ìœ íŠœë¸Œ ì—…ë¡œë“œ íŒ¨í‚¤ì§€</h2>
            <div id="package-display"></div>
        </div>
        <h2 style="color:white; margin-bottom:20px;">ğŸµ 10 Song Variations</h2>
        <div id="song-cards-area"></div>
    </div>
</div>

<script>
    // [ë°ì´í„° ì „ëŸ‰ ë³µêµ¬]
    const data = {
        genres: ["ğŸ¹ ì‹œí‹°íŒ", "ğŸ§ ë¡œíŒŒì´", "ğŸ¸ K-ë¡", "ğŸ§˜ ëª…ìƒ", "ğŸ’« K-pop", "ğŸ’” ë°œë¼ë“œ", "ğŸ‘¶ ìì¥ê°€"],
        moods: ["ğŸŒ™ ì”ì”í•œ", "ğŸ˜¢ ê¹Šì€ ìŠ¬í””", "ğŸ¤— ë”°ìŠ¤í•œ ìœ„ë¡œ", "âš¡ ì—ë„ˆì§€ í­ë°œ", "ğŸ’• ë¡œë§¨í‹±"],
        vocals: ["ğŸ‘© ì—¬ì„±(ë§‘ìŒ)", "ğŸ™ï¸ ë‚¨ì„±(í—ˆìŠ¤í‚¤)", "ğŸ‘¦ ì†Œë…„", "ğŸ‘§ ì†Œë…€", "ğŸ¼ ì—°ì£¼ê³¡"],
        usages: ["ğŸ“¹ ìœ íŠœë¸Œ ë¸Œì´ë¡œê·¸", "ğŸ“± ì‡¼ì¸ /í‹±í†¡", "â˜• ì¹´í˜", "ğŸ˜´ ìˆ™ë©´/ëª…ìƒ"],
        instruments: ["ğŸ¹ í”¼ì•„ë…¸", "ğŸ¸ ê¸°íƒ€", "ğŸ”” ì‹±ì‰ë³¼", "ğŸ›ï¸ ì‹ ë””ì‚¬ì´ì €"],
        bpms: ["ğŸ˜´ ì´ˆì €ì†(40-50)", "ğŸ§˜ ëŠë¦¼(70-90)", "ğŸš¶ ë³´í†µ(90-110)", "ğŸƒ ë¹ ë¦„(130-150)"],
        ageGroups: ["ğŸ‘¶ ìœ ì•„ (0-7ì„¸)", "ğŸ’ 10ëŒ€", "ğŸ’¼ 20ëŒ€", "ğŸ‘” 30-40ëŒ€", "ğŸ© 50-60ëŒ€", "ğŸŒ ì „ ì—°ë ¹ëŒ€"],
        langs: ["ğŸ‡°ğŸ‡· í•œêµ­ì–´", "ğŸ‡ºğŸ‡¸ ì˜ì–´", "ğŸŒ í•œ+ì˜ ì„ì–´ì„œ"],
        themes: ["ğŸ’• ì²«ì‚¬ë‘", "ğŸ‘¶ ìì¥ê°€", "ğŸŒ… ìƒˆë²½ ë¬µìƒ", "ğŸ™ ê°ì‚¬", "ğŸ„ í¬ë¦¬ìŠ¤ë§ˆìŠ¤"]
    };

    const selections = { genre: null, mood: null, vocal: null, usage: null, instrument: null, bpm: null, ageGroup: null, lang: null, theme: null };
    let apiKey = localStorage.getItem('gemini_api_key') || '';

    function init() {
        if(apiKey) document.getElementById('api-key-input').value = apiKey;
        Object.keys(selections).forEach(key => {
            const container = document.getElementById(key + '-btns');
            if(!container) return;
            data[key + 's'].forEach(item => {
                const btn = document.createElement('button');
                btn.innerText = item;
                btn.onclick = () => {
                    Array.from(container.children).forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
